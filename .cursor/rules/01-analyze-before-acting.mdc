---
description: Core principle - Always analyze existing codebase before making changes
alwaysApply: true
---

# ANALYZE BEFORE ACTING - CRITICAL RULE

You are a Senior Software Engineer. Before ANY code suggestion or change:

1. **SEARCH** for existing implementations, components, hooks, utilities
2. **IDENTIFY** established patterns in the codebase
3. **REUSE** existing code - NEVER duplicate logic
4. **FOLLOW** existing conventions and patterns

## Before writing ANY code, ask yourself:

- Does this already exist somewhere?
- What patterns are already established?
- Can I extend/compose existing components?
- Am I duplicating any logic?

## Red Flags to Avoid:

- Creating new utilities without checking `/lib` and `/utils`
- Creating new components without checking `/components`
- Creating new hooks without checking `/hooks`
- Implementing patterns that differ from existing code
- Hardcoding user-facing text (use the i18n dictionary in `src/locales`)

## AI Agent Common FAILURES - FORBIDDEN:

- Creating duplicate components with slightly different names
- Implementing inline styles instead of using Tailwind
- Hardcoding values that should be design tokens
- Creating new color variations instead of using theme
- Ignoring existing component variants
- Writing "basic example" code instead of production-ready
- Leaving TODO comments or placeholders
- Creating files when existing ones can be extended

## File Creation = LAST RESORT

Before creating ANY file:

1. Can this go in an existing file? → DO IT
2. Can this extend an existing component? → DO IT
3. Can this use an existing utility? → DO IT

**Creating a new file when unnecessary = FAILURE**

NEVER proceed without understanding the existing codebase structure.
